<!DOCTYPE html><html><head><title>uxcore - UXCORE UI Framework</title><link rel="stylesheet" href="//g.alicdn.com/platform/common/s/1.1/global/global.css"><link rel="stylesheet" href="/uxcore/static/uxcore.css"><link rel="stylesheet" href="/uxcore/static/github-gist.min.css"><script src="https://a.alipayobjects.com/??jquery/jquery/1.11.1/jquery.js,es5-shim/4.0.5/es5-shim.js,es5-shim/4.0.5/es5-sham.js,html5shiv/3.7.2/src/html5shiv.js,react/0.13.3/react-with-addons.min.js"></script><script src="/uxcore/static/highlight.min.js"></script><script src="/uxcore/static/rangy-core.min.js"></script><script src="/uxcore/static/uxcore.js"></script><script>(function(w){
	w.require = function(name){
		return w.UXCORE[name];
	}
})(window)</script></head><body><nav id="J-head" class="site-nav"><h1 class="logo">UXCORE</h1><ul class="nav-list"><li><a href="/uxcore/">首页</a></li><li><a href="/uxcore/css/kuma/">css</a></li><li><a href="/uxcore/components/calendar/">组件</a></li></ul></nav><div id="J-main" class="kuma-layout-full site-main"><aside class="site-aside"><ul><li><a href="/uxcore/components/calendar">Calendar</a></li><li><a href="/uxcore/components/dialog">Dialog</a></li><li><a href="/uxcore/components/select2">Select2</a></li><li><a href="/uxcore/components/pagination">Pagination</a></li><li><a href="/uxcore/components/tooltip">Tooltip</a></li><li><a href="/uxcore/components/tabs">Tabs</a></li><li><a href="/uxcore/components/grid">Grid</a></li><li class="current"><a href="/uxcore/components/form">Form</a></li><li><a href="/uxcore/components/dropdown">Dropdown</a></li><li><a href="/uxcore/components/mention">Mention</a></li><li><a href="/uxcore/components/tree">Tree</a></li><li><a href="/uxcore/components/transfer">Transfer</a></li><li><a href="/uxcore/components/popover">Popover</a></li></ul></aside><article class="site-content"><header class="post-title"><h1>Form</h1><section class="meta"><span class="author"><b>author: </b>eternalsky</span><span class="github"><b>github: </b><a href="git+https://github.com/uxcore/uxcore-form.git" target="_blank">Form</a></span><span class="version"> <b>版本: </b>1.0.5</span><span class="description"><b>描述: </b>form component for uxcore</span></section></header><div id="J-markdown" class="markdown"><h2 id="uxcore-form">uxcore-form <a href="https://david-dm.org/uxcore/uxcore-form"><img src="http://img.shields.io/david/uxcore/uxcore-form.svg?style=flat-square" alt="Dependency Status"></a> <a href="https://david-dm.org/uxcore/uxcore-form#info=devDependencies"><img src="http://img.shields.io/david/dev/uxcore/uxcore-form.svg?style=flat-square" alt="devDependency Status"></a></h2><h2 id="tl-dr">TL;DR</h2><p>uxcore-form ui component for react</p>
<h4 id="setup-develop-environment">setup develop environment</h4><pre>$ git clone https://github.com/uxcore/uxcore-form
$ cd uxcore-form
$ npm install
$ gulp server</pre><h2 id="usage">Usage</h2><blockquote>
<p>see demo/FormDemo.js for details<br>每一个 field 需要按照 Form -&gt; FormRow -&gt; FormField 的方式进行嵌套，允许 Form -&gt; FormField 的嵌套，会自动增加 FormRow 这一层，并默认占一整行。</p>
</blockquote>
<pre>let classnames = require(&#39;classnames&#39;);
let {Button, ButtonGroup} = require(&#39;uxcore-button&#39;);

let Form = require(&#39;../src&#39;);
let {
    Constants,
    FormRowTitle,
    FormRow,
    FormField,
    InputFormField,
    Validators,
    RadioGroupFormField,
    SelectFormField,
    TextAreaFormField,
    NumberInputFormField,
    DateFormField,
    CheckboxGroupFormField,
    CascadeSelectFormField,
    UploadFormField,
    OtherFormField
} = Form;

let CheckboxItem = CheckboxGroupFormField.Item;

class Demo extends React.Component {

    constructor(props) {
        super(props);
        this.state = {
        }
    }

    handleClick() {
        let me = this;
        console.log(me.refs.form.getValues());
    }

    handleChange(value) {
        console.log(value);
    }

    render() {
        let me = this;
        let data = {
            test1: &quot;我是测试&quot;,
            fruit: &quot;apple&quot;,
            city: &quot;nj&quot;,
            textArea: &quot;我是多行文本&quot;,
            date: &quot;2015-09-01&quot;,
            checkbox: [&quot;sea&quot;]
        }

        return (
            &lt;div&gt;
                &lt;Form ref=&quot;form&quot; jsxmode={Constants.MODE.EDIT} jsxvalues={data} jsxonChange={me.handleChange.bind(me)}&gt;
                    &lt;FormRowTitle jsxtitle=&quot;我是行标题&quot;/&gt;
                    &lt;FormRow&gt;
                        &lt;InputFormField  
                         jsxname=&quot;test1&quot;
                         jsxlabel=&quot;测试输入框&quot;
                         jsxplaceholder=&quot;请输入&quot;
                         jsxtips=&quot;请输入数字&quot;
                         jsxrules={{validator: Validators.isNotEmpty, errMsg: &quot;不能为空&quot;}}/&gt;
                        &lt;RadioGroupFormField jsxname=&quot;fruit&quot; jsxlabel=&quot;Fruit Type&quot; jsxflex={1}&gt;
                                &lt;input type=&quot;radio&quot; value=&quot;apple&quot; /&gt;Apple
                                &lt;input type=&quot;radio&quot; value=&quot;orange&quot; /&gt;Orange
                                &lt;input type=&quot;radio&quot; value=&quot;watermelon&quot; /&gt;Watermelon
                        &lt;/RadioGroupFormField&gt;
                    &lt;/FormRow&gt;
                    &lt;OtherFormField className=&quot;button-group&quot;&gt;
                        &lt;ButtonGroup&gt;
                            &lt;Button size=&quot;medium&quot; onClick={me.handleClick.bind(me)}&gt;提交&lt;/Button&gt;
                            &lt;Button size=&quot;medium&quot;&gt;重置&lt;/Button&gt;
                        &lt;/ButtonGroup&gt;
                    &lt;/OtherFormField&gt;
                &lt;/Form&gt;
            &lt;/div&gt;
        );
    }
};

module.exports = Demo;</pre><h2 id="demo">Demo</h2><p><a href="http://uxcore.github.io/uxcore/">http://uxcore.github.io/uxcore/</a></p>
<h2 id="api">API</h2><h3 id="form">Form</h3><ul>
<li>getValues() 获取目前的 values 和 pass（是否通过检测），在使用 onChange 函数监听的情况下意义不大。  </li>
<li>isDirty() 获取目前的数据是否没有通过检测。</li>
</ul>
<h2 id="props">props</h2><h3 id="form">Form</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxprefixCls</td>
<td>string</td>
<td>optional</td>
<td>&quot;kuma-form&quot;</td>
<td>默认类名，用户可以通过修改此项来完成样式的定制</td>
</tr>
<tr>
<td>jsxmode</td>
<td>string</td>
<td>optional</td>
<td>&quot;EDIT&quot;</td>
<td>Form 编辑和只读模式，传值方式见 demo</td>
</tr>
<tr>
<td>jsxvalues</td>
<td>object</td>
<td>optional</td>
<td>-</td>
<td>传入表单的初始值，格式见 Usage，每一个 key 与 formField 中的 jsxname 相对应</td>
</tr>
<tr>
<td>jsxonChange</td>
<td>function</td>
<td>optional</td>
<td>noop</td>
<td>当表单中值有变化时触发，传回 values，格式同 jsxvalues</td>
</tr>
</tbody>
</table>
<h3 id="formrow">FormRow</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxprefixCls</td>
<td>string</td>
<td>optional</td>
<td>&quot;kuma-form-row&quot;</td>
<td>默认类名，用户可以通过修改此项来完成样式的定制</td>
</tr>
</tbody>
</table>
<h3 id="formfield-通用配置">FormField 通用配置</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxshow</td>
<td>bool</td>
<td>optional</td>
<td>true</td>
<td>是否显示该表单域，不显示的表单域将不占宽度</td>
</tr>
<tr>
<td>jsxname</td>
<td>string</td>
<td>required</td>
<td>-</td>
<td>表单字段，返回值时该字段将作为 key</td>
</tr>
<tr>
<td>jsxlabel</td>
<td>string</td>
<td>required</td>
<td>-</td>
<td>左侧的说明文字，不写即为留白</td>
</tr>
<tr>
<td>jsxprefixCls</td>
<td>string</td>
<td>optional</td>
<td>&quot;kuma-form-field&quot;</td>
<td>默认类名，用户可以通过修改此项来完成样式的定制</td>
</tr>
<tr>
<td>jsxflex</td>
<td>number</td>
<td>optional</td>
<td>1</td>
<td>占 FormRow 宽的比例，类似于 css3 中的 flex-box</td>
</tr>
<tr>
<td>jsxtips</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>说明文字</td>
</tr>
<tr>
<td>jsxrules</td>
<td>object/array</td>
<td>optional</td>
<td>-</td>
<td>validators，具体用法和格式见 Usage，Form 已经提供了一些现成的 validator 供使用。也可以自己编写</td>
</tr>
</tbody>
</table>
<h3 id="validators">Validators</h3><blockquote>
<p>Form 提供了一些通用的 validator，通过 Form.Validators 来引入。用法还是见 Usage 和 <code>demo/formDemo.js</code> 包括：
所有的 validator 返回 true，表示通过。
validator 也可以自己定义，会传入相应的表单值，根据判断，返回 true，表示通过。</p>
</blockquote>
<ul>
<li>isNotEmpty</li>
<li>isNum</li>
<li>isInt: 是否是整数</li>
<li>isDecimal: 是否是小数</li>
<li>isArray</li>
<li>isRegExp</li>
<li>isObject</li>
<li>isFunc</li>
<li>isEmail</li>
<li>isUrl</li>
<li>isHex</li>
<li>isIdCard: 是否是中国身份证。</li>
<li>isCNMobile: 是否是中国手机号。</li>
</ul>
<h3 id="formfield-专属配置">FormField 专属配置</h3><blockquote>
<p>所有的 FormField 都共享通用配置，所有的专属配置在 <code>demo/formDemo.js</code>，均有体现。</p>
</blockquote>
<p>RadioGroupFormField</p>
<ul>
<li>children：需要传入 input 来完成初始化</li>
</ul>
<p>SelectFormField</p>
<table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxdata</td>
<td>object</td>
<td>optional</td>
<td>-</td>
<td>传入用于生成列表的数据，格式为{value: text}</td>
</tr>
<tr>
<td>jsxfetchUrl</td>
<td>string</td>
<td>optional</td>
<td>-</td>
<td>如果 Select 是通过搜索异步获取选项，则需要填入此项，目前指支持 jsonp。</td>
</tr>
<tr>
<td>jsxstyle</td>
<td>obj</td>
<td>optional</td>
<td>-</td>
<td>与 react 传入 style 的方式相同，修改 Field 的样式</td>
</tr>
<tr>
<td>beforeFetch</td>
<td>func</td>
<td>optional</td>
<td>-</td>
<td>会传入 {q: value}， value 为搜索框中变化的值，在发出 ajax 请求之前，将数据处理为应该发送的格式，并需返回该数据。</td>
</tr>
<tr>
<td>afterFetch</td>
<td>func</td>
<td>optional</td>
<td>-</td>
<td>会传入返回的数据， 将其处理为 jsxdata 的格式并返回</td>
</tr>
<tr>
<td>jsxshowSearch</td>
<td>func</td>
<td>optional</td>
<td>true</td>
<td>是否显示搜索栏</td>
</tr>
<tr>
<td>jsxtags</td>
<td>bool</td>
<td>optional</td>
<td>false</td>
<td>是否启用 tag 模式</td>
</tr>
<tr>
<td>jsxmultiple</td>
<td>bool</td>
<td>optional</td>
<td>false</td>
<td>是否启用 multiple 模式</td>
</tr>
<tr>
<td>jsxallowClear</td>
<td>bool</td>
<td>optional</td>
<td>false</td>
<td>是否显示清除按钮</td>
</tr>
<tr>
<td>jsxsearchPlaceholder</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>搜索框默认文字</td>
</tr>
</tbody>
</table>
<p>see datails in <a href="https://www.npmjs.com/package/uxcore-select2">uxcore-select2</a></p>
<p>CheckboxGroupFormField</p>
<ul>
<li>Item：通过 CheckboxGroupFormField.Item 取的，有两个 props<ul>
<li>value</li>
<li>text：显示的值</li>
</ul>
</li>
</ul>
<p>DateFormField</p>
<p>支持出 onSelect 外，<a href="https://www.npmjs.com/package/uxcore-calendar">uxcore-calendar</a> 的所有 props。</p>
<p>NumberInputFormField</p>
<table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxtype</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>目前支持 &quot;money&quot;, &quot;cnmobile&quot; 和 &quot;card&quot;, 提供三种格式化显示的方法</td>
</tr>
</tbody>
</table>
<p>UploadFormField</p>
<table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxaction</td>
<td>string</td>
<td>required</td>
<td>-</td>
<td>上传文件的 url</td>
</tr>
<tr>
<td>jsxparams</td>
<td>object</td>
<td>optional</td>
<td>-</td>
<td>随文件上传时传的参数</td>
</tr>
<tr>
<td>jsxfileName</td>
<td>string</td>
<td>optional</td>
<td>原文件名</td>
<td>文件上传时的文件名</td>
</tr>
<tr>
<td>jsxonStart</td>
<td>func</td>
<td>optional</td>
<td>noop</td>
<td>文件上传时触发</td>
</tr>
<tr>
<td>jsxonError</td>
<td>func</td>
<td>optional</td>
<td>noop</td>
<td>上传失败时触发</td>
</tr>
<tr>
<td>jsxonSuccess</td>
<td>func</td>
<td>optional</td>
<td>noop</td>
<td>上传成功时触发</td>
</tr>
<tr>
<td>jsxonProgress</td>
<td>func</td>
<td>optional</td>
<td>noop</td>
<td>上传过程中触发</td>
</tr>
</tbody>
</table>
<blockquote>
<p>具体说明参考：<a href="https://github.com/uxcore/uxcore-rc-upload">https://github.com/uxcore/uxcore-rc-upload</a></p>
</blockquote>
<p>CascadeSelectFormField</p>
<table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxstyle</td>
<td>obj</td>
<td>optional</td>
<td>-</td>
<td>与 react 传入 style 的方式相同，修改 Field 的样式</td>
</tr>
</tbody>
</table>
<h3 id="otherformfield">OtherFormField</h3><blockquote>
<p>OtherFormField 是一个特殊的 FormField，它用来和其他 FormField 一起完成布局（比如在一行排列等），如果需要一些装饰类的东西，可以以子元素的形式传入到这个 Field 里。
他也可以用于布局中的占位。</p>
</blockquote>
<h3 id="buttongroupfield">ButtonGroupField</h3><blockquote>
<p>ButtonGroupField 是一个特殊的 FormField，它用来生成一些特定的表单按钮，这是为了与 Grid 相结合而准备的。如果需要自定义一些按钮，请使用 OtherFormField 和 uxcore-button 相结合来使用。</p>
</blockquote>
</div><h2 class="site-demos"> <i class="kuma-icon kuma-icon-graph"></i>组件演示</h2><div id="code-box-components-form-demo-single" class="code-box"><div class="code-box-meta"><div class="code-box-title"><i class="kuma-icon kuma-icon-tag"></i><em>单列表单</em></div></div><div class="code-box-demo"><div id="components-form-demo-single"></div></div><div class="code-box-markdown markdown"><script>(function(){'use strict';

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _require = require('uxcore-button');

var Button = _require.Button;
var ButtonGroup = _require.ButtonGroup;

var Form = require('uxcore-form');
var Constants = Form.Constants;
var FormRowTitle = Form.FormRowTitle;
var FormRow = Form.FormRow;
var FormField = Form.FormField;
var InputFormField = Form.InputFormField;
var Validators = Form.Validators;
var RadioGroupFormField = Form.RadioGroupFormField;
var SelectFormField = Form.SelectFormField;
var TextAreaFormField = Form.TextAreaFormField;
var NumberInputFormField = Form.NumberInputFormField;
var DateFormField = Form.DateFormField;
var CheckboxGroupFormField = Form.CheckboxGroupFormField;
var CascadeSelectFormField = Form.CascadeSelectFormField;
var UploadFormField = Form.UploadFormField;
var OtherFormField = Form.OtherFormField;
var ButtonGroupFormField = Form.ButtonGroupFormField;

var CheckboxItem = CheckboxGroupFormField.Item;

var Demo = (function (_React$Component) {
    _inherits(Demo, _React$Component);

    function Demo(props) {
        _classCallCheck(this, Demo);

        _get(Object.getPrototypeOf(Demo.prototype), 'constructor', this).call(this, props);
        this.state = {};
    }

    _createClass(Demo, [{
        key: 'handleClick',
        value: function handleClick() {
            var me = this;
            console.log(me.refs.form.getValues());
        }
    }, {
        key: 'handleFormClick',
        value: function handleFormClick(data) {
            console.log(data);
        }
    }, {
        key: 'handleChange',
        value: function handleChange(value) {
            console.log(value);
        }
    }, {
        key: 'render',
        value: function render() {
            var me = this;
            var data = {
                test1: "我是测试",
                fruit: "apple",
                city: "nj",
                textArea: "我是多行文本",
                date: "2015-09-01",
                checkbox: ["sea"],
                cascade: ["a", "ab"]
            };

            var casData = {
                length: 3,
                contents: [{
                    value: "a",
                    text: "a",
                    contents: [{
                        value: "ab",
                        text: "ab",
                        contents: [{
                            value: "abc",
                            text: "abc"
                        }, {
                            value: "abd",
                            text: "abd"
                        }]
                    }, {
                        value: "ac",
                        text: "ac",
                        contents: [{
                            value: "acb",
                            text: "acb"
                        }, {
                            value: "acd",
                            text: "acd"
                        }]
                    }]
                }, {
                    value: "b",
                    text: "b",
                    contents: [{
                        value: "ba",
                        text: "ba",
                        contents: [{
                            value: "bab",
                            text: "bab"
                        }, {
                            value: "bad",
                            text: "bad"
                        }]
                    }, {
                        value: "bc",
                        text: "bc",
                        contents: [{
                            value: "bca",
                            text: "bca"
                        }, {
                            value: "bcd",
                            text: "bcd"
                        }]
                    }]
                }]
            };

            return React.createElement(
                'div',
                null,
                React.createElement(
                    Form,
                    { ref: 'form', jsxmode: Constants.MODE.EDIT, passedData: data, jsxonChange: me.handleChange.bind(me) },
                    React.createElement(FormRowTitle, { jsxtitle: '我是行标题' }),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(InputFormField, {
                            jsxname: 'test1',
                            jsxlabel: '测试输入框',
                            jsxplaceholder: '请输入',
                            jsxtips: '请输入数字',
                            jsxrules: { validator: Validators.isNotEmpty, errMsg: "不能为空" } }),
                        React.createElement(
                            RadioGroupFormField,
                            { jsxname: 'fruit', jsxlabel: 'Fruit Type', jsxflex: 1 },
                            React.createElement('input', { type: 'radio', value: 'apple' }),
                            'Apple',
                            React.createElement('input', { type: 'radio', value: 'orange' }),
                            'Orange',
                            React.createElement('input', { type: 'radio', value: 'watermelon' }),
                            'Watermelon'
                        ),
                        React.createElement(
                            ButtonGroupFormField,
                            { jsxshow: false },
                            React.createElement(
                                Button,
                                { size: 'medium', type: 'submit', onClick: me.handleFormClick.bind(me) },
                                '提交'
                            )
                        )
                    ),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(SelectFormField, {
                            jsxlabel: 'City',
                            jsxname: 'city',
                            jsxfetchUrl: 'http://suggest.taobao.com/sug',
                            afterFetch: function (obj) {
                                var data = {};
                                obj.result.forEach(function (item, index) {
                                    data[item[1]] = item[0];
                                });
                                console.log(data);
                                return data;
                            },
                            jsxdata: {
                                "bj": "北京",
                                "nj": "南京",
                                "dj": "东京",
                                "xj": "西京"
                            },
                            jsxstyle: {
                                width: 200
                            } }),
                        React.createElement(NumberInputFormField, {
                            jsxname: 'number',
                            jsxlabel: '数字输入',
                            jsxtype: 'money',
                            jsxplaceholder: '输入数字',
                            jsxtips: '数字和一般的输入框不同',
                            jsxrules: [{ validator: Validators.isNotEmpty, errMsg: "不能为空" }, { validator: Validators.isNum, errMsg: "请输入数字" }] })
                    ),
                    React.createElement(FormRowTitle, { jsxtitle: '我是行标题2' }),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(TextAreaFormField, { jsxname: 'textArea', jsxlabel: '多行文本框' }),
                        React.createElement(
                            CheckboxGroupFormField,
                            { jsxname: 'checkbox', jsxlabel: '多选' },
                            React.createElement(CheckboxItem, { value: 'air', text: '天空' }),
                            React.createElement(CheckboxItem, { value: 'sea', text: '大海' })
                        )
                    ),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(DateFormField, { jsxname: 'date', jsxlabel: '日期' }),
                        React.createElement(UploadFormField, {
                            jsxname: 'upload',
                            jsxlabel: '上传',
                            jsxaction: 'http://demo.nwux.taobao.net/file/upload' })
                    ),
                    React.createElement(CascadeSelectFormField, {
                        jsxdata: casData,
                        jsxname: 'cascade',
                        jsxlabel: '级联',
                        jsxstyle: {
                            width: 200
                        } }),
                    React.createElement(
                        ButtonGroupFormField,
                        null,
                        React.createElement(
                            Button,
                            { size: 'medium', type: 'submit', onClick: me.handleFormClick.bind(me) },
                            '提交'
                        )
                    )
                )
            );
        }
    }]);

    return Demo;
})(React.Component);

;

React.render(React.createElement(Demo, null), document.getElementById('components-form-demo-single'));})()</script><div class="highlight"><pre><code class="javascript"><span class="keyword">let</span> {Button, ButtonGroup} = require(<span class="string">'uxcore-button'</span>);
<span class="keyword">let</span> Form = require(<span class="string">'uxcore-form'</span>);
<span class="keyword">let</span> {
    Constants,
    FormRowTitle,
    FormRow,
    FormField,
    InputFormField,
    Validators,
    RadioGroupFormField,
    SelectFormField,
    TextAreaFormField,
    NumberInputFormField,
    DateFormField,
    CheckboxGroupFormField,
    CascadeSelectFormField,
    UploadFormField,
    OtherFormField,
    ButtonGroupFormField
} = Form;

<span class="keyword">let</span> CheckboxItem = CheckboxGroupFormField.Item;

class Demo extends React.Component {

    constructor(props) {
        super(props);
        <span class="keyword">this</span>.state = {
        }
    }

    handleClick() {
        <span class="keyword">let</span> me = <span class="keyword">this</span>;
        console.log(me.refs.form.getValues());
    }

    handleFormClick(data) {
        console.log(data)
    }

    handleChange(value) {
        console.log(value);
    }

    render() {
        <span class="keyword">let</span> me = <span class="keyword">this</span>;
        <span class="keyword">let</span> data = {
            test1: <span class="string">"我是测试"</span>,
            fruit: <span class="string">"apple"</span>,
            city: <span class="string">"nj"</span>,
            textArea: <span class="string">"我是多行文本"</span>,
            date: <span class="string">"2015-09-01"</span>,
            checkbox: [<span class="string">"sea"</span>],
            cascade: [<span class="string">"a"</span>, <span class="string">"ab"</span>]
        }

        <span class="keyword">let</span> casData = {
            length: <span class="number">3</span>,
            contents: [
                {
                    value: <span class="string">"a"</span>,
                    text: <span class="string">"a"</span>,
                    contents: [
                        {
                            value: <span class="string">"ab"</span>,
                            text: <span class="string">"ab"</span>,
                            contents: [
                                {
                                    value: <span class="string">"abc"</span>,
                                    text: <span class="string">"abc"</span>
                                },
                                {
                                    value: <span class="string">"abd"</span>,
                                    text: <span class="string">"abd"</span>
                                }
                            ]
                        },
                        {
                            value: <span class="string">"ac"</span>,
                            text: <span class="string">"ac"</span>,
                            contents: [
                                {
                                    value: <span class="string">"acb"</span>,
                                    text: <span class="string">"acb"</span>
                                },
                                {
                                    value: <span class="string">"acd"</span>,
                                    text: <span class="string">"acd"</span>
                                }
                            ]
                        }
                    ]
                },
                {
                    value: <span class="string">"b"</span>,
                    text: <span class="string">"b"</span>,
                    contents: [
                        {
                            value: <span class="string">"ba"</span>,
                            text: <span class="string">"ba"</span>,
                            contents: [
                                {
                                    value: <span class="string">"bab"</span>,
                                    text: <span class="string">"bab"</span>
                                },
                                {
                                    value: <span class="string">"bad"</span>,
                                    text: <span class="string">"bad"</span>
                                }
                            ]
                        },
                        {
                            value: <span class="string">"bc"</span>,
                            text: <span class="string">"bc"</span>,
                            contents: [
                                {
                                    value: <span class="string">"bca"</span>,
                                    text: <span class="string">"bca"</span>
                                },
                                {
                                    value: <span class="string">"bcd"</span>,
                                    text: <span class="string">"bcd"</span>
                                }
                            ]
                        }
                    ]
                }
            ]
        }


        <span class="keyword">return</span> (
            <span class="xml"><span class="tag">&lt;<span class="title">div</span>&gt;</span>
                <span class="tag">&lt;<span class="title">Form</span> <span class="attribute">ref</span>=<span class="value">"form"</span> <span class="attribute">jsxmode</span>=<span class="value">{Constants.MODE.EDIT}</span> <span class="attribute">passedData</span>=<span class="value">{data}</span> <span class="attribute">jsxonChange</span>=<span class="value">{me.handleChange.bind(me)}</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRowTitle</span> <span class="attribute">jsxtitle</span>=<span class="value">"我是行标题"</span>/&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">InputFormField</span>  
                         <span class="attribute">jsxname</span>=<span class="value">"test1"</span>
                         <span class="attribute">jsxlabel</span>=<span class="value">"测试输入框"</span>
                         <span class="attribute">jsxplaceholder</span>=<span class="value">"请输入"</span>
                         <span class="attribute">jsxtips</span>=<span class="value">"请输入数字"</span>
                         <span class="attribute">jsxrules</span>=<span class="value">{{validator:</span> <span class="attribute">Validators.isNotEmpty</span>, <span class="attribute">errMsg:</span> "不能为空"}}/&gt;</span>
                        <span class="tag">&lt;<span class="title">RadioGroupFormField</span> <span class="attribute">jsxname</span>=<span class="value">"fruit"</span> <span class="attribute">jsxlabel</span>=<span class="value">"Fruit Type"</span> <span class="attribute">jsxflex</span>=<span class="value">{1}</span>&gt;</span>
                                <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">value</span>=<span class="value">"apple"</span> /&gt;</span>Apple
                                <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">value</span>=<span class="value">"orange"</span> /&gt;</span>Orange
                                <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"radio"</span> <span class="attribute">value</span>=<span class="value">"watermelon"</span> /&gt;</span>Watermelon
                        <span class="tag">&lt;/<span class="title">RadioGroupFormField</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">ButtonGroupFormField</span> <span class="attribute">jsxshow</span>=<span class="value">{false}</span>&gt;</span>
                            <span class="tag">&lt;<span class="title">Button</span> <span class="attribute">size</span>=<span class="value">"medium"</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">onClick</span>=<span class="value">{me.handleFormClick.bind(me)}</span>&gt;</span>提交<span class="tag">&lt;/<span class="title">Button</span>&gt;</span>
                        <span class="tag">&lt;/<span class="title">ButtonGroupFormField</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">SelectFormField
</span>                         <span class="attribute">jsxlabel</span>=<span class="value">"City"</span>
                         <span class="attribute">jsxname</span>=<span class="value">"city"</span>
                         <span class="attribute">jsxfetchUrl</span>=<span class="value">"http://suggest.taobao.com/sug"</span>
                         <span class="attribute">afterFetch</span>=<span class="value">{(obj)</span> =&gt;</span> {
                            let data = {};
                            obj.result.forEach((item, index) =&gt; {
                                data[item[1]] = item[0];
                            });
                            console.log(data);
                            return data;
                         }}
                         jsxdata={{
                            "bj": "北京",
                            "nj": "南京",
                            "dj": "东京",
                            "xj": "西京"
                         }}
                         jsxstyle={{
                            width: 200
                         }}/&gt;
                         <span class="tag">&lt;<span class="title">NumberInputFormField
</span>                          <span class="attribute">jsxname</span>=<span class="value">"number"</span>
                          <span class="attribute">jsxlabel</span>=<span class="value">"数字输入"</span>
                          <span class="attribute">jsxtype</span>=<span class="value">"money"</span>
                          <span class="attribute">jsxplaceholder</span>=<span class="value">"输入数字"</span>
                          <span class="attribute">jsxtips</span>=<span class="value">"数字和一般的输入框不同"</span>
                          <span class="attribute">jsxrules</span>=<span class="value">{[</span>
                            {<span class="attribute">validator:</span> <span class="attribute">Validators.isNotEmpty</span>, <span class="attribute">errMsg:</span> "不能为空"},
                            {<span class="attribute">validator:</span> <span class="attribute">Validators.isNum</span>, <span class="attribute">errMsg:</span> "请输入数字"}
                         ]}/&gt;</span>
                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRowTitle</span> <span class="attribute">jsxtitle</span>=<span class="value">"我是行标题2"</span>/&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">TextAreaFormField</span> <span class="attribute">jsxname</span>=<span class="value">"textArea"</span> <span class="attribute">jsxlabel</span>=<span class="value">"多行文本框"</span>/&gt;</span>
                        <span class="tag">&lt;<span class="title">CheckboxGroupFormField</span> <span class="attribute">jsxname</span>=<span class="value">"checkbox"</span> <span class="attribute">jsxlabel</span>=<span class="value">"多选"</span>&gt;</span>
                          <span class="tag">&lt;<span class="title">CheckboxItem</span> <span class="attribute">value</span>=<span class="value">"air"</span> <span class="attribute">text</span>=<span class="value">"天空"</span>/&gt;</span>
                          <span class="tag">&lt;<span class="title">CheckboxItem</span> <span class="attribute">value</span>=<span class="value">"sea"</span> <span class="attribute">text</span>=<span class="value">"大海"</span>/&gt;</span>
                        <span class="tag">&lt;/<span class="title">CheckboxGroupFormField</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">DateFormField</span> <span class="attribute">jsxname</span>=<span class="value">"date"</span> <span class="attribute">jsxlabel</span>=<span class="value">"日期"</span>/&gt;</span>
                        <span class="tag">&lt;<span class="title">UploadFormField
</span>                          <span class="attribute">jsxname</span>=<span class="value">"upload"</span>
                          <span class="attribute">jsxlabel</span>=<span class="value">"上传"</span>
                          <span class="attribute">jsxaction</span>=<span class="value">"http://demo.nwux.taobao.net/file/upload"</span>/&gt;</span>
                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">CascadeSelectFormField
</span>                     <span class="attribute">jsxdata</span>=<span class="value">{casData}</span>
                     <span class="attribute">jsxname</span>=<span class="value">"cascade"</span>
                     <span class="attribute">jsxlabel</span>=<span class="value">"级联"</span>
                     <span class="attribute">jsxstyle</span>=<span class="value">{{</span>
                        <span class="attribute">width:</span> <span class="attribute">200</span>
                     }}/&gt;</span>
                    <span class="tag">&lt;<span class="title">ButtonGroupFormField</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">Button</span> <span class="attribute">size</span>=<span class="value">"medium"</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">onClick</span>=<span class="value">{me.handleFormClick.bind(me)}</span>&gt;</span>提交<span class="tag">&lt;/<span class="title">Button</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">ButtonGroupFormField</span>&gt;</span>
                <span class="tag">&lt;/<span class="title">Form</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        );
    }
};

React.render(<span class="tag">&lt;<span class="title">Demo</span> /&gt;</span>, document.getElementById('components-form-demo-single'))</span></code></pre></div></div></div></article></div></body></html>