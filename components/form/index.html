<!DOCTYPE html><html><head><title>uxcore - UXCORE UI Framework</title><link rel="stylesheet" href="//g.alicdn.com/platform/common/s/1.1/global/global.css"><link rel="stylesheet" href="/static/uxcore.css"><link rel="stylesheet" href="/static/github-gist.min.css"><script src="https://alinw.alicdn.com/uxcore/uxcore-lib/??es5-shim/4.1.12/es5-shim.min.js,es5-shim/4.1.12/es5-sham.min.js,react/0.14.0/react-with-addons.min.js,react/0.14.0/react-dom.min.js,rangy/1.3.0/rangy-core.min.js,jquery/1.11.3/jquery.min.js"></script><script src="/static/highlight.min.js"></script><script src="/static/uxcore.js"></script><script src="https://alinw.alicdn.com/uxcore/uxcore-lib/tinymce/4.2.5/tinymce-full.min.js"></script><script>(function(w){
	w.require = function(name){
		return w.UXCORE[name];
	}
})(window)</script></head><body><nav id="J-head" class="site-nav"><h1 class="logo">UXCORE</h1><ul class="nav-list"><li data-id="home"><a href="/">首页</a></li><li data-id="css"><a href="/css/base/">css</a></li><li data-id="components"><a href="/components/calendar/">组件</a></li></ul></nav><div id="J-main" class="kuma-layout-full site-main"><aside class="site-aside"><ul><li><a href="/components/calendar">Calendar</a></li><li><a href="/components/dialog">Dialog</a></li><li><a href="/components/select2">Select2</a></li><li><a href="/components/pagination">Pagination</a></li><li><a href="/components/tooltip">Tooltip</a></li><li><a href="/components/tabs">Tabs</a></li><li><a href="/components/table">Table</a></li><li><a href="/components/grid">Grid</a></li><li class="current"><a href="/components/form">Form</a></li><li><a href="/components/dropdown">Dropdown</a></li><li><a href="/components/mention">Mention</a></li><li><a href="/components/tree">Tree</a></li><li><a href="/components/transfer">Transfer</a></li><li><a href="/components/popover">Popover</a></li><li><a href="/components/uploader">Uploader</a></li><li><a href="/components/collapse">Collapse</a></li><li><a href="/components/progress">Progress</a></li><li><a href="/components/steps">Steps</a></li><li><a href="/components/menu">Menu</a></li><li><a href="/components/button">Button</a></li></ul></aside><article class="site-content"><header class="post-title"><h1>Form</h1><section class="meta"><span class="author"><i class="fa fa-user"></i>eternalsky</span><span class="github"><i class="fa fa-github"></i><a href="https://github.com/uxcore/uxcore-form.git" target="_blank">Form</a></span><span class="version"> <i class="fa fa-code-fork"></i>1.1.0</span><span class="description"><i class="fa fa-bookmark"></i>form component for uxcore</span></section></header><div id="J-markdown" class="markdown"><h2 id="uxcore-form">uxcore-form <a href="https://david-dm.org/uxcore/uxcore-form"><img src="http://img.shields.io/david/uxcore/uxcore-form.svg?style=flat-square" alt="Dependency Status"></a> <a href="https://david-dm.org/uxcore/uxcore-form#info=devDependencies"><img src="http://img.shields.io/david/dev/uxcore/uxcore-form.svg?style=flat-square" alt="devDependency Status"></a></h2><h2 id="usage">Usage</h2><blockquote>
<p>see demo/FormDemo.js for details<br>每一个 field 需要按照 Form -&gt; FormRow -&gt; FormField 的方式进行嵌套，允许 Form -&gt; FormField 的嵌套，会自动增加 FormRow 这一层，并默认占一整行。</p>
</blockquote>
<pre>// see demo</pre><h2 id="api">API</h2><h3 id="form">Form</h3><ul>
<li><p>getValues(data) 获取目前的 values 和 pass（是否通过检测）。<br>参数：</p>
<ul>
<li>data <code>Object</code>: 数据格式为 {values: {}, pass: false}。</li>
</ul>
</li>
<li><p>resetValues() 重置所有的 FormField，如果有默认值则重置为默认值。</p>
</li>
<li><p>isDirty() 获取目前的数据是否没有通过检测，返回 true 或 false。</p>
</li>
</ul>
<h2 id="props">props</h2><h3 id="form">Form</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>className</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>加入额外的类名，在使用 kuma 的基础上进行适当的定制时会用得到</td>
</tr>
<tr>
<td>jsxprefixCls</td>
<td>string</td>
<td>optional</td>
<td>&quot;kuma-form&quot;</td>
<td>默认类名，用户可以通过修改此项来完成样式的定制</td>
</tr>
<tr>
<td>jsxmode</td>
<td>string</td>
<td>optional</td>
<td>&quot;EDIT&quot;</td>
<td>Form 编辑和只读模式，传值方式见 demo</td>
</tr>
<tr>
<td>jsxvalues</td>
<td>object</td>
<td>optional</td>
<td>-</td>
<td>传入表单的初始值，格式见 Usage，每一个 key 与 formField 中的 jsxname 相对应</td>
</tr>
<tr>
<td>jsxonChange</td>
<td>function</td>
<td>optional</td>
<td>noop</td>
<td>当表单中值有变化时触发，传回 values，格式同 jsxvalues</td>
</tr>
</tbody>
</table>
<h3 id="formrow">FormRow</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>className</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>加入额外的类名，在使用 kuma 的基础上进行适当的定制时会用得到</td>
</tr>
<tr>
<td>jsxprefixCls</td>
<td>string</td>
<td>optional</td>
<td>&quot;kuma-form-row&quot;</td>
<td>默认类名，用户可以通过修改此项来完成样式的定制</td>
</tr>
</tbody>
</table>
<h3 id="formfield-通用配置">FormField 通用配置</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>className</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>加入额外的类名，在使用 kuma 的基础上进行适当的定制时会用得到</td>
</tr>
<tr>
<td>jsxshow</td>
<td>bool</td>
<td>optional</td>
<td>true</td>
<td>是否显示该表单域，不显示的表单域将不占宽度</td>
</tr>
<tr>
<td>jsxmode</td>
<td>string</td>
<td>optional</td>
<td>&quot;EDIT&quot;</td>
<td>FormField 的编辑和只读模式，优先级高于 Form，传值方式见 demo</td>
</tr>
<tr>
<td>jsxshowLabel</td>
<td>bool</td>
<td>optional</td>
<td>true</td>
<td>是否显示 label</td>
</tr>
<tr>
<td>jsxname</td>
<td>string</td>
<td>required</td>
<td>-</td>
<td>表单字段，返回值时该字段将作为 key</td>
</tr>
<tr>
<td>jsxlabel</td>
<td>string</td>
<td>required</td>
<td>-</td>
<td>左侧的说明文字，不写即为留白</td>
</tr>
<tr>
<td>jsxprefixCls</td>
<td>string</td>
<td>optional</td>
<td>&quot;kuma-form-field&quot;</td>
<td>默认类名，用户可以通过修改此项来完成样式的定制</td>
</tr>
<tr>
<td>jsxflex</td>
<td>number</td>
<td>optional</td>
<td>1</td>
<td>占 FormRow 宽的比例，类似于 css3 中的 flex-box</td>
</tr>
<tr>
<td>jsxtips</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>说明文字</td>
</tr>
<tr>
<td>jsxrules</td>
<td>object/array</td>
<td>optional</td>
<td>-</td>
<td>validators，具体用法和格式见 Usage，Form 已经提供了一些现成的 validator 供使用。也可以自己编写</td>
</tr>
</tbody>
</table>
<h3 id="validators">Validators</h3><blockquote>
<p>Form 提供了一些通用的 validator，通过 Form.Validators 来引入。用法还是见 Usage 和 <code>demo/formDemo.js</code> 包括：
所有的 validator 返回 true，表示通过。
validator 也可以自己定义，会传入相应的表单值，根据判断，返回 true，表示通过。</p>
</blockquote>
<ul>
<li>isNotEmpty</li>
<li>isNum</li>
<li>isInt: 是否是整数</li>
<li>isDecimal: 是否是小数</li>
<li>isArray</li>
<li>isRegExp</li>
<li>isObject</li>
<li>isFunc</li>
<li>isEmail</li>
<li>isUrl</li>
<li>isHex</li>
<li>isIdCard: 是否是中国身份证。</li>
<li>isCNMobile: 是否是中国手机号。</li>
</ul>
<h3 id="formfield-专属配置">FormField 专属配置</h3><blockquote>
<p>所有的 FormField 都共享通用配置，所有的专属配置在 <code>demo/formDemo.js</code>，均有体现。</p>
</blockquote>
<h3 id="inputformfield">InputFormField</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxplaceholder</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>占位符</td>
</tr>
</tbody>
</table>
<h3 id="textareaformfield">TextAreaFormField</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxplaceholder</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>占位符</td>
</tr>
</tbody>
</table>
<h3 id="radiogroupformfield">RadioGroupFormField</h3><ul>
<li>Item：通过 RadioGroupFormField.Item 取得，有两个 props<ul>
<li>value</li>
<li>text：显示的值</li>
</ul>
</li>
<li>使用方式：<pre>&lt;RadioGroupFormField&gt;
&lt;Item value=&quot;1&quot; text=&quot;a&quot;&gt;
&lt;Item value=&quot;2&quot; text=&quot;b&quot;&gt;
&lt;Item value=&quot;3&quot; text=&quot;c&quot;&gt;
&lt;/RadioGroupFormField&gt;</pre></li>
</ul>
<h3 id="selectformfield">SelectFormField</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxdata</td>
<td>object</td>
<td>optional</td>
<td>-</td>
<td>传入用于生成列表的数据，格式为{value: text}</td>
</tr>
<tr>
<td>jsxfetchUrl</td>
<td>string</td>
<td>optional</td>
<td>-</td>
<td>如果 Select 是通过搜索异步获取选项，则需要填入此项，目前指支持 jsonp。</td>
</tr>
<tr>
<td>jsxstyle</td>
<td>obj</td>
<td>optional</td>
<td>-</td>
<td>与 react 传入 style 的方式相同，修改选择框的样式</td>
</tr>
<tr>
<td>beforeFetch</td>
<td>func</td>
<td>optional</td>
<td>-</td>
<td>会传入 {q: value}， value 为搜索框中变化的值，在发出 ajax 请求之前，将数据处理为应该发送的格式，并需返回该数据。</td>
</tr>
<tr>
<td>afterFetch</td>
<td>func</td>
<td>optional</td>
<td>-</td>
<td>会传入返回的数据， 将其处理为 jsxdata 的格式并返回</td>
</tr>
<tr>
<td>jsxshowSearch</td>
<td>func</td>
<td>optional</td>
<td>true</td>
<td>是否显示搜索栏</td>
</tr>
<tr>
<td>jsxtags</td>
<td>bool</td>
<td>optional</td>
<td>false</td>
<td>是否启用 tag 模式</td>
</tr>
<tr>
<td>jsxmultiple</td>
<td>bool</td>
<td>optional</td>
<td>false</td>
<td>是否启用 multiple 模式</td>
</tr>
<tr>
<td>jsxallowClear</td>
<td>bool</td>
<td>optional</td>
<td>false</td>
<td>是否显示清除按钮</td>
</tr>
<tr>
<td>jsxsearchPlaceholder</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>搜索框默认文字</td>
</tr>
<tr>
<td>jsxcombobox</td>
<td>bool</td>
<td>optional</td>
<td>false</td>
<td>标准搜索模式，在该模式下没有下拉框，通过输入产生提示</td>
</tr>
<tr>
<td>jsxplaceholder</td>
<td>string</td>
<td>optional</td>
<td>&quot;请下拉选择&quot;</td>
<td>占位符</td>
</tr>
</tbody>
</table>
<p>see datails in <a href="https://www.npmjs.com/package/uxcore-select2">uxcore-select2</a></p>
<h3 id="checkboxgroupformfield">CheckboxGroupFormField</h3><ul>
<li>Item：通过 CheckboxGroupFormField.Item 取的，有两个 props<ul>
<li>value</li>
<li>text：显示的值</li>
</ul>
</li>
<li>使用方式：<pre>&lt;CheckboxGroupFormField&gt;
&lt;Item value=&quot;1&quot; text=&quot;a&quot;&gt;
&lt;Item value=&quot;2&quot; text=&quot;b&quot;&gt;
&lt;Item value=&quot;3&quot; text=&quot;c&quot;&gt;
&lt;/CheckboxGroupFormField&gt;</pre></li>
</ul>
<h3 id="dateformfield">DateFormField</h3><p>支持出 onSelect 外，<a href="https://www.npmjs.com/package/uxcore-calendar">uxcore-calendar</a> 的所有 props。</p>
<h3 id="numberinputformfield">NumberInputFormField</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxplaceholder</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>占位符</td>
</tr>
<tr>
<td>jsxtype</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>目前支持 &quot;money&quot;, &quot;cnmobile&quot; 和 &quot;card&quot;, 提供三种格式化显示的方法。&quot;money&quot;的格式为<code>123 121 121.213 121</code>,&quot;cnmobile&quot;的格式为 <code>86 1565 7263 8223</code>, &quot;card&quot; 的格式为 <code>3321 3123 3243 4343</code></td>
</tr>
</tbody>
</table>
<h3 id="uploadformfield">UploadFormField</h3><blockquote>
<p>支持 uxcore-uploader 的所有配置项。
具体说明参考：<a href="https://github.com/uxcore/uxcore-uploader">https://github.com/uxcore/uxcore-uploader</a></p>
</blockquote>
<h3 id="cascadeselectformfield">CascadeSelectFormField</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxdata</td>
<td>object</td>
<td>required</td>
<td>-</td>
<td>目前级联选择框，只支持直接传入 data 初始化，格式见 Usage 中的 casData，length 为必须传的 key，告诉 field 有几层级联。</td>
</tr>
<tr>
<td>jsxplaceholder</td>
<td>string</td>
<td>optional</td>
<td>&quot;请下拉选择&quot;</td>
<td>占位符</td>
</tr>
<tr>
<td>jsxstyle</td>
<td>object</td>
<td>optional</td>
<td>-</td>
<td>与 react 传入 style 的方式相同，修改选择框的样式</td>
</tr>
</tbody>
</table>
<h3 id="editorformfield">EditorFormField</h3><table>
<thead>
<tr>
<th>配置项</th>
<th>类型</th>
<th>必填</th>
<th>默认值</th>
<th>功能/备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>jsxcontent</td>
<td>string</td>
<td>optional</td>
<td>&quot;&quot;</td>
<td>由于 tinymce 的默认值传法的特殊性，EditorFormField 的默认值通过此 prop 传入</td>
</tr>
<tr>
<td>jsxconfig</td>
<td>object</td>
<td>optional</td>
<td>{}</td>
<td>用户自定义的配置项，tinyMCE 的配置项，官方文档中所有 init 部分的配置在这里完成，详细见 <a href="http://www.tinymce.com/wiki.php/Configuration">http://www.tinymce.com/wiki.php/Configuration</a></td>
</tr>
</tbody>
</table>
<h3 id="gridformfield">GridFormField</h3><blockquote>
<p>支持 uxcore-grid 的全部配置项，在 Form 中通常只需要传入 column 来生成配置项，见 Usage 中的使用。
具体说明参考：<a href="https://github.com/uxcore/uxcore-grid">https://github.com/uxcore/uxcore-grid</a></p>
</blockquote>
<h3 id="otherformfield">OtherFormField</h3><blockquote>
<p>OtherFormField 是一个特殊的 FormField，它用来和其他 FormField 一起完成布局（比如在一行排列等），如果需要一些装饰类的东西，可以以子元素的形式传入到这个 Field 里。
他也可以用于布局中的占位。</p>
</blockquote>
<h3 id="buttongroupfield">ButtonGroupField</h3><blockquote>
<p>ButtonGroupField 是一个特殊的 FormField，它用来生成一些特定的表单按钮，这是为了与 Grid 相结合而准备的。如果需要自定义一些按钮，请使用 OtherFormField 和 uxcore-button 相结合来使用。</p>
</blockquote>
</div><h2 class="site-demos"> <i class="kuma-icon kuma-icon-graph"></i>组件演示</h2><div id="code-box-components-form-demo-single" class="code-box"><div class="code-box-meta"><div class="code-box-title"><i class="fa fa-tag"></i><a href="#code-box-components-form-demo-single">单列表单</a></div></div><div class="code-box-demo"><div id="components-form-demo-single"></div></div><div class="code-box-desc"><a class="code-toggle"><i class="kuma-icon kuma-icon-chevron-down"></i></a></div><div class="code-box-markdown"><script>(function(){'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Button = require('uxcore-button');
var Form = require('uxcore-form');
var Constants = Form.Constants;
var FormRowTitle = Form.FormRowTitle;
var FormRow = Form.FormRow;
var FormField = Form.FormField;
var InputFormField = Form.InputFormField;
var Validators = Form.Validators;
var RadioGroupFormField = Form.RadioGroupFormField;
var SelectFormField = Form.SelectFormField;
var TextAreaFormField = Form.TextAreaFormField;
var NumberInputFormField = Form.NumberInputFormField;
var DateFormField = Form.DateFormField;
var CheckboxGroupFormField = Form.CheckboxGroupFormField;
var CascadeSelectFormField = Form.CascadeSelectFormField;
var UploadFormField = Form.UploadFormField;
var OtherFormField = Form.OtherFormField;
var ButtonGroupFormField = Form.ButtonGroupFormField;
var EditorFormField = Form.EditorFormField;
var GridFormField = Form.GridFormField;

var CheckboxItem = CheckboxGroupFormField.Item;
var RadioItem = RadioGroupFormField.Item;

var Demo = (function (_React$Component) {
    _inherits(Demo, _React$Component);

    function Demo(props) {
        _classCallCheck(this, Demo);

        _get(Object.getPrototypeOf(Demo.prototype), 'constructor', this).call(this, props);
        this.state = {
            jsxvalues: {
                test1: "我是测试",
                fruit: "apple",
                city: "nj",
                textArea: "我是多行文本",
                date: "2015-09-01",
                checkbox: ["sea"],
                dicts: {
                    datas: [{
                        city: "hz",
                        email: "333",
                        name: "33"
                    }, {
                        city: "bj",
                        email: "33322",
                        name: "3322"
                    }]
                },
                cascade: ["a", "ab"],
                editor: "a"
            }
        };
    }

    _createClass(Demo, [{
        key: 'handleClick',
        value: function handleClick() {
            var me = this;
            console.log(me.refs.form.getValues());
        }
    }, {
        key: 'handleFormClick',
        value: function handleFormClick(data) {
            this.refs.form.setState({
                mode: 'VIEW'
            });
        }
    }, {
        key: 'handleChange',
        value: function handleChange(value) {
            console.log(value);
        }
    }, {
        key: 'handleValueChange',
        value: function handleValueChange() {
            var me = this;
            me.setState({
                jsxvalues: {
                    test1: "我是测试22",
                    fruit: "apple",
                    city: "nj",
                    textArea: "我是多行文本",
                    date: "2015-09-01",
                    checkbox: ["sea"]
                }
            });
        }
    }, {
        key: 'render',
        // cascade: ["a", "ab"]
        value: function render() {
            var me = this;
            var data = {
                test1: "我是测试",
                fruit: "apple",
                city: "nj",
                textArea: "我是多行文本",
                date: "2015-09-01",
                checkbox: ["sea"]
            };

            // cascade: ["a", "ab"]
            var casData = {
                length: 3,
                contents: [{
                    value: "a",
                    text: "A",
                    contents: [{
                        value: "ab",
                        text: "AB",
                        contents: [{
                            value: "abc",
                            text: "ABC"
                        }, {
                            value: "abd",
                            text: "ABD"
                        }]
                    }, {
                        value: "ac",
                        text: "AC",
                        contents: [{
                            value: "acb",
                            text: "ACB"
                        }, {
                            value: "acd",
                            text: "ACD"
                        }]
                    }]
                }, {
                    value: "b",
                    text: "B",
                    contents: [{
                        value: "ba",
                        text: "BA",
                        contents: [{
                            value: "bab",
                            text: "BAB"
                        }, {
                            value: "bad",
                            text: "BAD"
                        }]
                    }, {
                        value: "bc",
                        text: "BC",
                        contents: [{
                            value: "bca",
                            text: "BCA"
                        }, {
                            value: "bcd",
                            text: "BCD"
                        }]
                    }]
                }]
            };

            var columns = [{ dataKey: 'jsxid', title: "jsxid", width: 40 }, { dataKey: 'city', title: '城市', width: 180, type: 'select', options: {
                    'hz': '杭州',
                    'bj': '北京',
                    'sh': '上海',
                    'ah': '安徽'
                } }, { dataKey: 'name', title: "姓名", width: 200, type: "text" }, { dataKey: 'email', title: "Email", width: 200, type: "text" }, { dataKey: 'action1', title: '操作1', width: 100, type: "action", items: [{ title: '增加', type: "addRow", cb: function cb(rowData) {
                        console.info(rowData);
                    } }, { title: '删除', type: "delRow", cb: function cb(rowData) {
                        console.info(rowData);
                    } }] }];

            var renderProps = {
                jsxcolumns: columns
            };

            return React.createElement(
                'div',
                null,
                React.createElement(
                    Form,
                    { ref: 'form', jsxmode: Constants.MODE.EDIT, jsxvalues: me.state.jsxvalues, jsxonChange: me.handleChange.bind(me) },
                    React.createElement(FormRowTitle, { jsxtitle: '我是行标题' }),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(InputFormField, {
                            jsxname: 'test1',
                            jsxlabel: '普通输入框',
                            jsxmode: Constants.MODE.VIEW,
                            jsxtips: '请输入数字',
                            jsxrules: { validator: Validators.isNotEmpty, errMsg: "不能为空" } }),
                        React.createElement(
                            RadioGroupFormField,
                            { jsxname: 'fruit', jsxlabel: 'Radio', jsxflex: 1 },
                            React.createElement(RadioItem, { value: 'apple', text: 'Apple' }),
                            React.createElement(RadioItem, { value: 'orange', text: 'Orange' }),
                            React.createElement(RadioItem, { value: 'watermelon', text: 'Watermelon' })
                        ),
                        React.createElement(
                            ButtonGroupFormField,
                            { jsxshow: false },
                            React.createElement(
                                Button,
                                { size: 'medium', type: 'submit', onClick: me.handleFormClick.bind(me) },
                                '提交'
                            ),
                            React.createElement(
                                Button,
                                { size: 'medium', type: 'reset' },
                                '取消'
                            )
                        )
                    ),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(SelectFormField, {
                            jsxlabel: '单选',
                            jsxname: 'city',
                            jsxfetchUrl: 'http://suggest.taobao.com/sug',
                            afterFetch: function (obj) {
                                var data = {};
                                obj.result.forEach(function (item, index) {
                                    data[item[1]] = item[0];
                                });
                                console.log(data);
                                return data;
                            },
                            jsxdata: {
                                "bj": "北京",
                                "nj": "南京",
                                "dj": "东京",
                                "xj": "西京"
                            },
                            jsxstyle: {
                                width: 200
                            } }),
                        React.createElement(NumberInputFormField, {
                            jsxname: 'number',
                            jsxlabel: '数字输入框',
                            jsxtype: 'money',
                            jsxplaceholder: '输入数字',
                            jsxtips: '数字和一般的输入框不同',
                            jsxrules: [{ validator: Validators.isNotEmpty, errMsg: "不能为空" }, { validator: Validators.isNum, errMsg: "请输入数字" }] })
                    ),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(SelectFormField, {
                            jsxlabel: '单选 combo 模式',
                            jsxname: 'goods',
                            jsxfetchUrl: 'http://suggest.taobao.com/sug',
                            jsxcombobox: true,
                            afterFetch: function (obj) {
                                var data = {};
                                obj.result.forEach(function (item, index) {
                                    data[item[1]] = item[0];
                                });
                                return data;
                            },
                            jsxstyle: { width: 200 } })
                    ),
                    React.createElement(FormRowTitle, { jsxtitle: '我是行标题2' }),
                    React.createElement(
                        FormRow,
                        null,
                        React.createElement(TextAreaFormField, { jsxname: 'textArea', jsxlabel: '多行文本框' }),
                        React.createElement(
                            CheckboxGroupFormField,
                            { jsxname: 'checkbox', jsxlabel: '复选框' },
                            React.createElement(CheckboxItem, { value: 'air', text: '天空' }),
                            React.createElement(CheckboxItem, { value: 'sea', text: '大海' })
                        )
                    ),
                    React.createElement(FormRowTitle, { jsxtitle: '级联类' }),
                    React.createElement(DateFormField, { jsxtype: 'cascade', jsxname: 'casDate', jsxlabel: '级联日期', jsxfrom: '2015-10-2', jsxto: '2015-10-10' }),
                    React.createElement(CascadeSelectFormField, {
                        jsxdata: casData,
                        jsxname: 'cascade',
                        jsxlabel: '级联选择',
                        jsxstyle: {
                            width: 200
                        } }),
                    React.createElement(EditorFormField, { jsxname: 'editor',
                        jsxlabel: '富文本编辑器',
                        jsxcontent: '1' }),
                    React.createElement(GridFormField, _extends({ jsxname: 'dicts', jsxlabel: '薪酬字典' }, renderProps)),
                    React.createElement(
                        ButtonGroupFormField,
                        null,
                        React.createElement(
                            Button,
                            { size: 'medium', type: 'submit', onClick: me.handleFormClick.bind(me) },
                            '提交'
                        ),
                        React.createElement(
                            Button,
                            { size: 'medium', type: 'reset' },
                            '取消'
                        ),
                        React.createElement(
                            Button,
                            { size: 'medium', onClick: me.handleValueChange.bind(me) },
                            '修改 props'
                        )
                    )
                )
            );
        }
    }]);

    return Demo;
})(React.Component);

;

ReactDOM.render(React.createElement(Demo, null), document.getElementById('components-form-demo-single'));})()</script><div class="highlight"><pre><code class="javascript"><span class="keyword">let</span> Button = require(<span class="string">'uxcore-button'</span>);
<span class="keyword">let</span> Form = require(<span class="string">'uxcore-form'</span>);
<span class="keyword">let</span> {
    Constants,
    FormRowTitle,
    FormRow,
    FormField,
    InputFormField,
    Validators,
    RadioGroupFormField,
    SelectFormField,
    TextAreaFormField,
    NumberInputFormField,
    DateFormField,
    CheckboxGroupFormField,
    CascadeSelectFormField,
    UploadFormField,
    OtherFormField,
    ButtonGroupFormField,
    EditorFormField,
    GridFormField
} = Form;

<span class="keyword">let</span> CheckboxItem = CheckboxGroupFormField.Item;
<span class="keyword">let</span> RadioItem = RadioGroupFormField.Item;

class Demo extends React.Component {

    constructor(props) {
        super(props);
        <span class="keyword">this</span>.state = {
            jsxvalues: {
                test1: <span class="string">"我是测试"</span>,
                fruit: <span class="string">"apple"</span>,
                city: <span class="string">"nj"</span>,
                textArea: <span class="string">"我是多行文本"</span>,
                date: <span class="string">"2015-09-01"</span>,
                checkbox: [<span class="string">"sea"</span>],
                dicts:{
                   datas:[
                      {
                        city: <span class="string">"hz"</span>,
                        email: <span class="string">"333"</span>,
                        name: <span class="string">"33"</span>
                      }, {
                        city: <span class="string">"bj"</span>,
                        email: <span class="string">"33322"</span>,
                        name: <span class="string">"3322"</span>
                      }
                   ]
                },
                cascade: [<span class="string">"a"</span>, <span class="string">"ab"</span>],
                editor: <span class="string">"a"</span>
            }
        }
    }

    handleClick() {
        <span class="keyword">let</span> me = <span class="keyword">this</span>;
        console.log(me.refs.form.getValues());
    }

    handleFormClick(data) {
        <span class="keyword">this</span>.refs.form.setState({
           mode:<span class="string">'VIEW'</span>
        })
    }

    handleChange(value) {
        console.log(value);
    }

    handleValueChange() {
        <span class="keyword">let</span> me = <span class="keyword">this</span>;
        me.setState({
            jsxvalues: {
                test1: <span class="string">"我是测试22"</span>,
                fruit: <span class="string">"apple"</span>,
                city: <span class="string">"nj"</span>,
                textArea: <span class="string">"我是多行文本"</span>,
                date: <span class="string">"2015-09-01"</span>,
                checkbox: [<span class="string">"sea"</span>],
                <span class="comment">// cascade: ["a", "ab"]</span>
            }
        })
    }

    render() {
        <span class="keyword">let</span> me = <span class="keyword">this</span>;
        <span class="keyword">let</span> data = {
            test1: <span class="string">"我是测试"</span>,
            fruit: <span class="string">"apple"</span>,
            city: <span class="string">"nj"</span>,
            textArea: <span class="string">"我是多行文本"</span>,
            date: <span class="string">"2015-09-01"</span>,
            checkbox: [<span class="string">"sea"</span>],
            <span class="comment">// cascade: ["a", "ab"]</span>
        }

        <span class="keyword">let</span> casData = {
            length: <span class="number">3</span>,
            contents: [
                {
                    value: <span class="string">"a"</span>,
                    text: <span class="string">"A"</span>,
                    contents: [
                        {
                            value: <span class="string">"ab"</span>,
                            text: <span class="string">"AB"</span>,
                            contents: [
                                {
                                    value: <span class="string">"abc"</span>,
                                    text: <span class="string">"ABC"</span>
                                },
                                {
                                    value: <span class="string">"abd"</span>,
                                    text: <span class="string">"ABD"</span>
                                }
                            ]
                        },
                        {
                            value: <span class="string">"ac"</span>,
                            text: <span class="string">"AC"</span>,
                            contents: [
                                {
                                    value: <span class="string">"acb"</span>,
                                    text: <span class="string">"ACB"</span>
                                },
                                {
                                    value: <span class="string">"acd"</span>,
                                    text: <span class="string">"ACD"</span>
                                }
                            ]
                        }
                    ]
                },
                {
                    value: <span class="string">"b"</span>,
                    text: <span class="string">"B"</span>,
                    contents: [
                        {
                            value: <span class="string">"ba"</span>,
                            text: <span class="string">"BA"</span>,
                            contents: [
                                {
                                    value: <span class="string">"bab"</span>,
                                    text: <span class="string">"BAB"</span>
                                },
                                {
                                    value: <span class="string">"bad"</span>,
                                    text: <span class="string">"BAD"</span>
                                }
                            ]
                        },
                        {
                            value: <span class="string">"bc"</span>,
                            text: <span class="string">"BC"</span>,
                            contents: [
                                {
                                    value: <span class="string">"bca"</span>,
                                    text: <span class="string">"BCA"</span>
                                },
                                {
                                    value: <span class="string">"bcd"</span>,
                                    text: <span class="string">"BCD"</span>
                                }
                            ]
                        }
                    ]
                }
            ]
        }


        <span class="keyword">let</span> columns = [
            { dataKey: <span class="string">'jsxid'</span>,title:<span class="string">"jsxid"</span>,width: <span class="number">40</span> },
            { dataKey: <span class="string">'city'</span>,title:<span class="string">'城市'</span>, width: <span class="number">180</span>,type:<span class="string">'select'</span> ,options:{
               <span class="string">'hz'</span>:<span class="string">'杭州'</span>,
               <span class="string">'bj'</span>:<span class="string">'北京'</span>,
               <span class="string">'sh'</span>:<span class="string">'上海'</span>,
               <span class="string">'ah'</span>:<span class="string">'安徽'</span>
            }},
            { dataKey: <span class="string">'name'</span>,title:<span class="string">"姓名"</span>,width: <span class="number">200</span>,type:<span class="string">"text"</span>},
            { dataKey: <span class="string">'email'</span>,title:<span class="string">"Email"</span>,width: <span class="number">200</span>,type:<span class="string">"text"</span>},
            { dataKey: <span class="string">'action1'</span>, title:<span class="string">'操作1'</span>, width:<span class="number">100</span>, type:<span class="string">"action"</span>,items:[
              {title:<span class="string">'增加'</span>, type:<span class="string">"addRow"</span>, cb: <span class="function"><span class="keyword">function</span><span class="params">(rowData)</span>{</span>console.info(rowData)}},
              {title:<span class="string">'删除'</span>, type:<span class="string">"delRow"</span>, cb: <span class="function"><span class="keyword">function</span><span class="params">(rowData)</span>{</span>console.info(rowData)}}
            ]}
        ];


        <span class="keyword">let</span> renderProps={
            jsxcolumns:columns
        };


        <span class="keyword">return</span> (
            <span class="xml"><span class="tag">&lt;<span class="title">div</span>&gt;</span>
                <span class="tag">&lt;<span class="title">Form</span> <span class="attribute">ref</span>=<span class="value">"form"</span> <span class="attribute">jsxmode</span>=<span class="value">{Constants.MODE.EDIT}</span> <span class="attribute">jsxvalues</span>=<span class="value">{me.state.jsxvalues}</span> <span class="attribute">jsxonChange</span>=<span class="value">{me.handleChange.bind(me)}</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRowTitle</span> <span class="attribute">jsxtitle</span>=<span class="value">"我是行标题"</span>/&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">InputFormField
</span>                         <span class="attribute">jsxname</span>=<span class="value">"test1"</span>
                         <span class="attribute">jsxlabel</span>=<span class="value">"普通输入框"</span>
                         <span class="attribute">jsxmode</span>=<span class="value">{Constants.MODE.VIEW}</span>
                         <span class="attribute">jsxtips</span>=<span class="value">"请输入数字"</span>
                         <span class="attribute">jsxrules</span>=<span class="value">{{validator:</span> <span class="attribute">Validators.isNotEmpty</span>, <span class="attribute">errMsg:</span> "不能为空"}}/&gt;</span>
                        <span class="tag">&lt;<span class="title">RadioGroupFormField</span> <span class="attribute">jsxname</span>=<span class="value">"fruit"</span> <span class="attribute">jsxlabel</span>=<span class="value">"Radio"</span> <span class="attribute">jsxflex</span>=<span class="value">{1}</span>&gt;</span>
                                <span class="tag">&lt;<span class="title">RadioItem</span> <span class="attribute">value</span>=<span class="value">"apple"</span> <span class="attribute">text</span>=<span class="value">"Apple"</span>/&gt;</span>
                                <span class="tag">&lt;<span class="title">RadioItem</span> <span class="attribute">value</span>=<span class="value">"orange"</span> <span class="attribute">text</span>=<span class="value">"Orange"</span>/&gt;</span>
                                <span class="tag">&lt;<span class="title">RadioItem</span> <span class="attribute">value</span>=<span class="value">"watermelon"</span> <span class="attribute">text</span>=<span class="value">"Watermelon"</span>/&gt;</span>
                        <span class="tag">&lt;/<span class="title">RadioGroupFormField</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">ButtonGroupFormField</span> <span class="attribute">jsxshow</span>=<span class="value">{false}</span>&gt;</span>
                            <span class="tag">&lt;<span class="title">Button</span> <span class="attribute">size</span>=<span class="value">"medium"</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">onClick</span>=<span class="value">{me.handleFormClick.bind(me)}</span>&gt;</span>提交<span class="tag">&lt;/<span class="title">Button</span>&gt;</span>
                            <span class="tag">&lt;<span class="title">Button</span> <span class="attribute">size</span>=<span class="value">"medium"</span> <span class="attribute">type</span>=<span class="value">"reset"</span>&gt;</span>取消<span class="tag">&lt;/<span class="title">Button</span>&gt;</span>
                        <span class="tag">&lt;/<span class="title">ButtonGroupFormField</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">SelectFormField
</span>                         <span class="attribute">jsxlabel</span>=<span class="value">"单选"</span>
                         <span class="attribute">jsxname</span>=<span class="value">"city"</span>
                         <span class="attribute">jsxfetchUrl</span>=<span class="value">"http://suggest.taobao.com/sug"</span>
                         <span class="attribute">afterFetch</span>=<span class="value">{(obj)</span> =&gt;</span> {
                            let data = {};
                            obj.result.forEach((item, index) =&gt; {
                                data[item[1]] = item[0];
                            });
                            console.log(data);
                            return data;
                         }}
                         jsxdata={{
                            "bj": "北京",
                            "nj": "南京",
                            "dj": "东京",
                            "xj": "西京"
                         }}
                         jsxstyle={{
                            width: 200
                         }}/&gt;
                         <span class="tag">&lt;<span class="title">NumberInputFormField
</span>                          <span class="attribute">jsxname</span>=<span class="value">"number"</span>
                          <span class="attribute">jsxlabel</span>=<span class="value">"数字输入框"</span>
                          <span class="attribute">jsxtype</span>=<span class="value">"money"</span>
                          <span class="attribute">jsxplaceholder</span>=<span class="value">"输入数字"</span>
                          <span class="attribute">jsxtips</span>=<span class="value">"数字和一般的输入框不同"</span>
                          <span class="attribute">jsxrules</span>=<span class="value">{[</span>
                            {<span class="attribute">validator:</span> <span class="attribute">Validators.isNotEmpty</span>, <span class="attribute">errMsg:</span> "不能为空"},
                            {<span class="attribute">validator:</span> <span class="attribute">Validators.isNum</span>, <span class="attribute">errMsg:</span> "请输入数字"}
                         ]}/&gt;</span>
                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">SelectFormField
</span>                         <span class="attribute">jsxlabel</span>=<span class="value">"单选 combo 模式"</span>
                         <span class="attribute">jsxname</span>=<span class="value">"goods"</span>
                         <span class="attribute">jsxfetchUrl</span>=<span class="value">"http://suggest.taobao.com/sug"</span>
                         <span class="attribute">jsxcombobox</span>=<span class="value">{true}</span>
                         <span class="attribute">afterFetch</span>=<span class="value">{(obj)</span> =&gt;</span> {
                            let data = {};
                            obj.result.forEach((item, index) =&gt; {
                                data[item[1]] = item[0];
                            });
                            return data;
                         }}
                         jsxstyle={{width: 200}}/&gt;

                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRowTitle</span> <span class="attribute">jsxtitle</span>=<span class="value">"我是行标题2"</span>/&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRow</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">TextAreaFormField</span> <span class="attribute">jsxname</span>=<span class="value">"textArea"</span> <span class="attribute">jsxlabel</span>=<span class="value">"多行文本框"</span>/&gt;</span>
                        <span class="tag">&lt;<span class="title">CheckboxGroupFormField</span> <span class="attribute">jsxname</span>=<span class="value">"checkbox"</span> <span class="attribute">jsxlabel</span>=<span class="value">"复选框"</span>&gt;</span>
                          <span class="tag">&lt;<span class="title">CheckboxItem</span> <span class="attribute">value</span>=<span class="value">"air"</span> <span class="attribute">text</span>=<span class="value">"天空"</span>/&gt;</span>
                          <span class="tag">&lt;<span class="title">CheckboxItem</span> <span class="attribute">value</span>=<span class="value">"sea"</span> <span class="attribute">text</span>=<span class="value">"大海"</span>/&gt;</span>
                        <span class="tag">&lt;/<span class="title">CheckboxGroupFormField</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">FormRow</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">FormRowTitle</span> <span class="attribute">jsxtitle</span>=<span class="value">"级联类"</span>/&gt;</span>
                    <span class="tag">&lt;<span class="title">DateFormField</span> <span class="attribute">jsxtype</span>=<span class="value">"cascade"</span> <span class="attribute">jsxname</span>=<span class="value">"casDate"</span> <span class="attribute">jsxlabel</span>=<span class="value">"级联日期"</span> <span class="attribute">jsxfrom</span>=<span class="value">"2015-10-2"</span> <span class="attribute">jsxto</span>=<span class="value">"2015-10-10"</span>/&gt;</span>
                    <span class="tag">&lt;<span class="title">CascadeSelectFormField
</span>                     <span class="attribute">jsxdata</span>=<span class="value">{casData}</span>
                     <span class="attribute">jsxname</span>=<span class="value">"cascade"</span>
                     <span class="attribute">jsxlabel</span>=<span class="value">"级联选择"</span>
                     <span class="attribute">jsxstyle</span>=<span class="value">{{</span>
                        <span class="attribute">width:</span> <span class="attribute">200</span>
                     }}/&gt;</span>
                    <span class="tag">&lt;<span class="title">EditorFormField</span> <span class="attribute">jsxname</span>=<span class="value">"editor"</span>
                                     <span class="attribute">jsxlabel</span>=<span class="value">"富文本编辑器"</span>
                                     <span class="attribute">jsxcontent</span>=<span class="value">"1"</span>/&gt;</span>
                    <span class="tag">&lt;<span class="title">GridFormField</span> <span class="attribute">jsxname</span>=<span class="value">"dicts"</span> <span class="attribute">jsxlabel</span>=<span class="value">"薪酬字典"</span> {<span class="attribute">...renderProps</span>}&gt;</span>
                    <span class="tag">&lt;/<span class="title">GridFormField</span>&gt;</span>
                    <span class="tag">&lt;<span class="title">ButtonGroupFormField</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">Button</span> <span class="attribute">size</span>=<span class="value">"medium"</span> <span class="attribute">type</span>=<span class="value">"submit"</span> <span class="attribute">onClick</span>=<span class="value">{me.handleFormClick.bind(me)}</span>&gt;</span>提交<span class="tag">&lt;/<span class="title">Button</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">Button</span> <span class="attribute">size</span>=<span class="value">"medium"</span> <span class="attribute">type</span>=<span class="value">"reset"</span>&gt;</span>取消<span class="tag">&lt;/<span class="title">Button</span>&gt;</span>
                        <span class="tag">&lt;<span class="title">Button</span> <span class="attribute">size</span>=<span class="value">"medium"</span> <span class="attribute">onClick</span>=<span class="value">{me.handleValueChange.bind(me)}</span>&gt;</span>修改 props<span class="tag">&lt;/<span class="title">Button</span>&gt;</span>
                    <span class="tag">&lt;/<span class="title">ButtonGroupFormField</span>&gt;</span>
                <span class="tag">&lt;/<span class="title">Form</span>&gt;</span>
            <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
        );
    }
};

ReactDOM.render(<span class="tag">&lt;<span class="title">Demo</span> /&gt;</span>, document.getElementById('components-form-demo-single'))</span></code></pre></div></div></div></article></div></body></html>